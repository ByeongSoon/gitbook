---
description: 스프링의 3대 요소인 Spring Triangle(IoC, AOP, PSA)에 대하여 알아본다.
---

# 스프링 트라이앵글 - IoC, AOP, PSA

#### IoC(Inversion of Control)

IoC는 제어의 역전이라는 말로 개발자가 아닌 프레임워크에서 제어권을 가져, 클래스의 객체를 직접 생성하는 것이 아닌 주입 받아서 사용하는 것을 말한다.&#x20;

IoC 컨테이너에 있는 `ApplicationContext`와 BeanFactory 인터페이스 덕분에 Bean으로 지정한 모든 클래스를 인스턴스로 만들어 다른 클래스에 의존관계가 필요하다면 Bean으로 등록된 인스턴스를 주입해준다.(이 부분이 스프링 DI)

{% hint style="info" %}
* ApplicationContext는 BeanFactory를 상속받는다.
* 의존성 주입은 Bean 끼리만 가능하다.
* IntelliJ에서 Bean으로 등록되어 있는 클래스는 이름 옆에 녹색 콩 모양이 있다.
{% endhint %}

IoC를 사용하는 이유 중 하나로 스프링이 제공하는 Bean 객체는 모두 싱글톤 스코프이므로 IoC 컨테이너가 알아서 관리한다.

#### AOP(Aspect Oriented Programming)

AOP는 관점 지향 프로그래밍으로 비즈니스 로직을 수행하는데 중복되는 코드를 줄이기 위한 프로그래밍 방법이다. 로그 출력, 보안처리, 예외 처리와 같은 코드를 모아서 중복을 없앨 수 있다. 대표적으로 `@Transactional` 어노테이션으로 트랜잭션 처리를 공통으로 처리할 수 있다.

AOP 구현 방법으로는 컴파일 이용방법, 바이트 코드 조작, 프록시 패턴 등 세 가지 방법이 있는데 이 중에서 스프링은 프록시 패턴을 기반으로 AOP를 지원한다. 프록시를 통해 비즈니스 로직을 실행하기 전, 후에 공통된 기능을 적용하는 방식이다.

{% hint style="info" %}
* 비즈니스 로직의 특정 시점을 바라보고 해당 시점이 수행되는 순간을 가로채어 전, 후 기능을 처리한다.&#x20;
* 모든 요청은 서블릿에 도달하기 전 필터에서 해당 요청을 필터링하고, 필터링 된 값이 서블릿으로 간다. 그리고 서블릿 내부에서는 인터셉터가 한 번 더 공통된 기능을 처리함으로써 비즈니스 로직에 공통 기능을 적용할 수 있다.
{% endhint %}

#### PSA(Portable Service Abstraction)

PSA는 한마디로 잘 만든 인터페이스 혹은 편리한 인터페이스다. 쉬운 예로 우리는 스프링부트 기반의 프로젝트에서 MVC 서비스를 개발할 때 서블릿을 별도로 코딩하지 않는다.

POJO로 사용할 수 있도록 일종의 추상화를 한 것으로 스프링에서 추상화 된 서비스를 자바 혹은 코틀린 언어로 자유롭게 사용할 수 있다.&#x20;

PSA는 개발자에게 편의성을 제공하며 다른 기술 스택으로 애플리케이션을 수정 하더라도 정상적인 동작을 할 수 있도록 도와준다.

{% hint style="info" %}
* @Controller, @RequestMapping, @Transactional 등이 대표적이다.
* POJO(Plain Old Java Object) : 순수한 자바로 작성된 객체
{% endhint %}

