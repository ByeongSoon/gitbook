---
description: >-
  세션을 이용할 때 일반적으로 대용량 트래픽을 장애 없이 처리하기위해 여러 대의 서버에 적절히 트래픽을 분배하는 로드 밸런서를 사용한다. 이
  경우 발생하는 문제점을 해결하기 위한 방법인 Sticky Session에 대해 알아본다.
---

# 세션을 이용한 인증 기능을 사용할 때 서버를 다중화 한다면 문제점과 해결방안은?(Sticky Session)

### Sticky Session이란

Sticky Session이란 특정 세션의 요청을 처음 처리한 서버로만 전송하는 것을 의미한다.&#x20;

첫 요청 이후의 모든 요청을 특정 서버로 고정하는 방법으로 세션을 관리한다. 일반적으로 Sticky Session을 유지하기 위해 Cookie를 사용하거나 클라이언트의 IP를 tracking하는 방식이 있다.

### Sticky Session의 단점

* 로드 밸런싱이 의도한대로 잘 동작하지 않을 수도 있다.
* 특정 서버만 과부하가 올 수 있다.
* 특정 서버 Fail시 해당 서버에 붙어있는 세션들이 모두 소실될 수 있다.

#### Sticky Session의 단점을 해결하는 방안

* Session들을 하나로 묶어 클러스터로 관리
  * 각 WAS들은 세션을 각각 가지고 있지만, 이를 하나로 묶어 하나의 클러스터로 관리하는 방법이 있다.&#x20;
  * 하나의 WAS가 fail이 발생하면 해당 WAS가 들고 있던 세션은 다른 WAS로 이동되어 관리된다.&#x20;
  * 각 서버마다 세션 클러스터링 방식이 다르고 지원하는 방식이 다르기 때문에 현재 사용하고 있는 WAS의 session clusturing 부분을 보고 확인해야 한다.&#x20;
  * 이 방식은 새로운 서버가 하나 추가될 때마다 기존에 존재하던 WAS에 새로운 서버의 IP/PORT를 입력해서 클러스터링 해줘야 하는 단점이 있다.

